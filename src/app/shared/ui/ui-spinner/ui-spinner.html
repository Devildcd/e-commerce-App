@if (overlay()) {
<div class="fixed inset-0 z-[60] grid place-items-center" [class]="overlayBackdropClass()">
  <div class="mx-4 w-full max-w-xs p-4" [class]="cardClass()">
    <div class="flex items-center gap-3">
      @if (variant() === 'spinner') {
      <div class="shrink-0 animate-spin rounded-full border-slate-300 border-t-slate-900" [class]="ringSizeClass()"
        aria-hidden="true"></div>
      } @else {
      <div class="shrink-0 flex items-center gap-1" aria-hidden="true">
        <span class="h-2 w-2 animate-bounce rounded-full bg-slate-900 [animation-delay:-0.15s]"></span>
        <span class="h-2 w-2 animate-bounce rounded-full bg-slate-900 [animation-delay:-0.05s]"></span>
        <span class="h-2 w-2 animate-bounce rounded-full bg-slate-900"></span>
      </div>
      }

      <div class="min-w-0">
        <p class="font-semibold text-slate-900" [class]="textClass()">
          {{ label() }}
        </p>

        @if (subLabel()) {
        <p class="mt-0.5 text-xs text-slate-600">
          {{ subLabel() }}
        </p>
        }
      </div>
    </div>
  </div>
</div>
} @else {
<!-- Inline spinner -->
<div class="inline-flex items-center gap-2" role="status" aria-live="polite">
  @if (variant() === 'spinner') {
  <div class="animate-spin rounded-full border-slate-300 border-t-slate-900" [class]="ringSizeClass()"
    aria-hidden="true"></div>
  } @else {
  <div class="flex items-center gap-1" aria-hidden="true">
    <span class="h-2 w-2 animate-bounce rounded-full bg-slate-900 [animation-delay:-0.15s]"></span>
    <span class="h-2 w-2 animate-bounce rounded-full bg-slate-900 [animation-delay:-0.05s]"></span>
    <span class="h-2 w-2 animate-bounce rounded-full bg-slate-900"></span>
  </div>
  }

  <span class="font-medium" [class]="toneTextClass() + ' ' + textClass()">
    {{ label() }}
  </span>

  @if (subLabel()) {
  <span class="text-xs" [class]="toneSubTextClass()">
    {{ subLabel() }}
  </span>
  }
</div>
}